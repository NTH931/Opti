namespace Opti.Evented {
  export class EventEmitter<T extends Record<string, unknown[]>> {
    private _evmap: T = {} as T;

    on<K extends string, L extends unknown[]>(ev: K, callback: (...args: L) => void): asserts this is EventEmitter<T & {[P in K]: L}> {

    }

    off<K extends keyof T>(ev: K): asserts this is EventEmitter<Omit<T, K>> {

    }

    emit<K extends keyof T>(ev: K, ...args: T[K]): void {
      
    }
  }
}
(function() {
  globalThis.emitter = new Opti.Evented.EventEmitter<{}>();
})();
namespace Opti.Evented {
  export class EventEmitter<T extends Record<string, unknown[]>> {
    private _evmap: T = {} as T;

    on<K extends string, L extends unknown[]>(ev: K, callback: (...args: L) => void): asserts this is EventEmitter<T & {[P in K]: L}> {

    }

    off<K extends keyof T>(ev: K): asserts this is EventEmitter<Omit<T, K>> {

    }

    emit<K extends keyof T>(ev: K, ...args: T[K]): void {
      
    }
  }
}
(function() {
  globalThis.emitter = new Opti.Evented.EventEmitter<{}>();
})();
namespace Opti.Evented {
  export class EventEmitter<T extends Record<string, unknown[]>> {
    private _evmap: T = {} as T;

    on<K extends string, L extends unknown[]>(ev: K, callback: (...args: L) => void): asserts this is EventEmitter<T & {[P in K]: L}> {

    }

    off<K extends keyof T>(ev: K): asserts this is EventEmitter<Omit<T, K>> {

    }

    emit<K extends keyof T>(ev: K, ...args: T[K]): void {
      
    }
  }
}
(function() {
  globalThis.emitter = new Opti.Evented.EventEmitter<{}>();
})();
namespace Opti.Evented {
  export class EventEmitter<T extends Record<string, unknown[]>> {
    private _evmap: T = {} as T;

    on<K extends string, L extends unknown[]>(ev: K, callback: (...args: L) => void): asserts this is EventEmitter<T & {[P in K]: L}> {

    }

    off<K extends keyof T>(ev: K): asserts this is EventEmitter<Omit<T, K>> {

    }

    emit<K extends keyof T>(ev: K, ...args: T[K]): void {
      
    }
  }
}
(function() {
  globalThis.emitter = new Opti.Evented.EventEmitter<{}>();
})();
namespace Opti.Evented {
  export class EventEmitter<T extends Record<string, unknown[]>> {
    private _evmap: T = {} as T;

    on<K extends string, L extends unknown[]>(ev: K, callback: (...args: L) => void): asserts this is EventEmitter<T & {[P in K]: L}> {

    }

    off<K extends keyof T>(ev: K): asserts this is EventEmitter<Omit<T, K>> {

    }

    emit<K extends keyof T>(ev: K, ...args: T[K]): void {
      
    }
  }
}
(function() {
  globalThis.emitter = new Opti.Evented.EventEmitter<{}>();
})();
namespace Opti.Evented {
  export class EventEmitter<T extends Record<string, unknown[]>> {
    private _evmap: T = {} as T;

    on<K extends string, L extends unknown[]>(ev: K, callback: (...args: L) => void): asserts this is EventEmitter<T & {[P in K]: L}> {

    }

    off<K extends keyof T>(ev: K): asserts this is EventEmitter<Omit<T, K>> {

    }

    emit<K extends keyof T>(ev: K, ...args: T[K]): void {
      
    }
  }
}
(function() {
  globalThis.emitter = new Opti.Evented.EventEmitter<{}>();
})();
